import{r as g,a as r,j as p,L as S,d as E,b as $,e as j,m as w,f as k,u as y,c as H,p as L}from"./index-56b56433.js";import{i as O}from"./icons-a17edc8c.js";import{f as C}from"./formatVietnameseToString-d7bbd812.js";const A=[0],{GrStar:I,AiOutlineHeart:M,AiFillHeart:z}=O,D=({image:t,title:m,star:h,address:u,description:c,attributes:d,sellers:i,id:e})=>{var n;const[a,s]=g.useState(!1),x=l=>{const o=[];for(let f=1;f<=+l;f++)o.push(r(I,{color:"rgba(245, 199, 39, 0.8)"}));return o};return r("div",{className:"bg-[#fff9f3] p-4 xs:mt-4 sx:p-0",children:p("div",{className:"row xs:px-0 p-4 border-2 bg-white shadow-md rounded-md ms-0 me-0  md:flex-col md:gap-7 xs:gap-1",children:[p(S,{to:`/${E.detail}/${C(m.replaceAll("/",""))}/${e}`,className:"relative col-lg-5 col-md-12 flex flex-wrap h-[266px]",children:[t.length>0&&((n=t.filter((l,o)=>A.some(f=>f===o)))==null?void 0:n.map((l,o)=>r("img",{src:l,alt:"/",className:"rounded-md object-cover my-1 mx-1 w-full h-full"},o))),p("span",{className:"absolute bottom-0 left-6 border bg-[rgba(0,0,0,.5)] rounded text-white text-sm pointer-events-none",children:[`${t.length}`," ảnh "]}),r("span",{className:"absolute bottom-0 right-6 ]",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:a?r(z,{size:"24px",color:"red"}):r(M,{size:"24px"})})]}),p("div",{className:"col-lg-7 col-md-12 ",children:[r("div",{className:"lg:mt-5",children:p(S,{to:"/",className:"text-decoration-none text-danger",children:[r("span",{className:"flex",children:x(+h).length>0&&x(+h).map((l,o)=>r("span",{children:l},o))}),m]})}),p("div",{className:"mt-2 xl:flex-col xl:gap-2 flex justify-content-between md:flex-col",children:[p("div",{className:"xs:flex",children:[r("span",{className:"text-green font-medium w-3/6",children:d.price}),r("span",{className:"w-[28%]",children:d.acreage})]}),r("span",{children:u}),r("time",{})]}),r("div",{className:"mt-3 xs:hidden",children:r("p",{className:"text-[#8a8d91] text-base max-w-lg text-ellipsis leading-6 line-clamp-3",children:c})}),p("div",{className:"flex justify-between items-center xl:flex-col xl:items-start xl:gap-2 ",children:[r("div",{children:r("span",{className:"text-[#8a8d91]",children:i.name})}),p("div",{className:"flex md:flex-col md:justify-center md:gap-2",children:[p("a",{href:`tel:${i==null?void 0:i.phone}`,className:"no-underline border border-solid border-[blue] bg-blue-500  text-[#fff] py-[2px] px-1 rounded-lg  me-2",children:["Gọi ",i.phone]}),r("a",{target:"_blank",href:`https://zalo.me/${i.zalo?i.zalo:i.phone}`,className:"no-underline border border-solid border-[blue] text-[blue] py-[2px] px-1 rounded-lg  me-2",children:"Nhắn Zalo"})]})]})]})]})})},B=g.memo(D);const F=({text:t,currentNumber:m,icon:h,setCurrentPage:u})=>{const c=$(),d=j(),[i]=w();let e=i.entries();const a=x=>{let n=[];i.append("page",+t);for(let o of x)n.push(o);let l={};return n==null||n.forEach(o=>{var f,b;console.log((f=Object.keys(l))==null?void 0:f.some(N=>N===o[0]&&N!=="page")),(b=Object.keys(l))!=null&&b.some(N=>N===o[0]&&N!=="page")?l[o[0]]=[...l[o[0]],o[1]]:(l={...l,[o[0]]:[o[1]]},console.log("b",{...l,[o[0]]:[o[1]]}))}),l},s=()=>{h!=="..."&&(u(+t),c({pathname:d==null?void 0:d.pathname,search:k(a(e)).toString()}))};return r("div",{className:+t==+m?`pageNumber ${h==="..."?"cursor-text":"cursor-auto"}`:`notPage ${h==="..."?"cursor-text":"cursor-pointer"}`,onClick:s,children:h||t})},v=g.memo(F),{AiOutlineDoubleRight:G,AiOutlineDoubleLeft:J}=O,P=5,R=({count:t,post:m})=>{const[h,u]=g.useState([]),[c,d]=g.useState(1),[i,e]=g.useState(!1),[a,s]=g.useState(!1),[x]=w();return g.useEffect(()=>{let n=x.get("page");n&&+n!==c&&d(+n),!n&&d(1)},[x]),g.useEffect(()=>{const n=Math.ceil(t/P),l=c-1<=0?1:c-1,o=c+1>n?n:c+1,f=[];for(let b=l;b<=o;b++)f.push(b);u(f),c>=n-1?s(!0):s(!1),c<=2?e(!0):e(!1)},[t,m,c]),p("div",{className:"flex justify-content-center p-4 gap-1 ",children:[!i&&r(v,{icon:r(J,{}),setCurrentPage:d,text:1}),!i&&r(v,{icon:"..."}),h.length>0&&h.map(n=>r(v,{text:n,setCurrentPage:d,currentNumber:c},n)),!a&&r(v,{icon:"..."}),!a&&r(v,{icon:r(G,{}),setCurrentPage:d,text:Math.ceil(t/P)})]})},q=({categoryCode:t})=>{const m=y(e=>{var a,s;return(s=(a=e.post.data.data)==null?void 0:a.response)==null?void 0:s.rows}),h=y(e=>{var a,s;return(s=(a=e.post.data.data)==null?void 0:a.response)==null?void 0:s.count}),[u,c]=g.useState(0),[d]=w(),i=H();return g.useEffect(()=>{let e=[];for(let s of d.entries())e.push(s);let a={};e==null||e.forEach(s=>{var x,n;console.log((x=Object.keys(a))==null?void 0:x.some(l=>l===s[0])),(n=Object.keys(a))!=null&&n.some(l=>l===s[0])?a[s[0]]=[...a[s[0]],s[1]]:(a={...a,[s[0]]:[s[1]]},console.log("a",{...a,[s[0]]:[s[1]]}))}),t&&(a.categoryCode=t),u===1&&(a.order=["createdAt","DESC"]),i(L(a))},[d,t,u]),p("div",{className:"w-full",children:[r("div",{className:"mt-3",children:p("div",{className:"",children:[r("span",{onClick:()=>c(0),className:`ms-2 font-normal border border-[#dedede] rounded-md p-1 cursor-pointer ${u===0&&"no-underline bg-red-600 text-white"} `,children:"Mặc Định"}),r("span",{onClick:()=>c(1),className:` ms-1 font-normal border border-[#dedede] rounded-md p-1 cursor-pointer  ${u===1&&"no-underline bg-red-600 text-white"}`,children:"Mới Nhất"})]})}),r("div",{className:"w-full mt-4",children:(m==null?void 0:m.length)>0&&m.map(e=>{var a;return r(B,{title:e==null?void 0:e.title,star:+(e==null?void 0:e.star),address:e==null?void 0:e.address,description:JSON.parse(e==null?void 0:e.description),image:JSON.parse((a=e==null?void 0:e.images)==null?void 0:a.image),attributes:e==null?void 0:e.attributes,sellers:e==null?void 0:e.sellers,id:e.id},e.id)})}),r("div",{children:r(R,{count:h,post:m})})]})},T=({content:t,tilte:m,isDouble:h,type:u})=>{const c=$(),d=j(),i=()=>{const a=t==null?void 0:t.filter((n,l)=>l%2!==0),s=t==null?void 0:t.filter((n,l)=>l%2===0);return a==null?void 0:a.map((n,l)=>({right:n,left:s==null?void 0:s.find((o,f)=>f===l)}))},e=a=>{c({pathname:d==null?void 0:d.pathname,search:k({[u]:a}).toString()})};return p("div",{className:"border-2 mb-4 border-solid p-4 rounded-md bg-white w-full",children:[r("p",{className:"text-lg font-semibold mb-4 lg:text-[17px]",children:m}),!h&&r("div",{className:" flex flex-col gap-2 md:w-full",children:(t==null?void 0:t.length)>0&&t.map(a=>r(S,{to:`${C(a.value)}`,className:"flex gap-2 items-center cursor-pointer hover:text-orange-600 border-b border-gray-200 pb-1 border-dashed no-underline	text-black",children:p("span",{className:"md:text-[14px]",children:[" ",a.value," "]})},a.code))}),h&&r("div",{className:"flex flex-col gap-2 md:block",children:(t==null?void 0:t.length)>0&&i().map((a,s)=>r("div",{children:p("div",{className:"lg:gap-8 flex items-center justify-around md:block md:text-[14px] md:py-2",children:[r("div",{onClick:()=>e(a.left.code),className:"flex flex-1 gap-2 items-center cursor-pointer hover:text-orange-600 border-b border-gray-200 pb-1 border-dashed",children:r("span",{children:a.left.value})}),r("div",{className:"flex flex-1 gap-2 items-center cursor-pointer hover:text-orange-600 border-b border-gray-200 pb-1 border-dashed",onClick:()=>e(a.right.code),children:r("span",{children:a.right.value})})]})},s))})]})},K=g.memo(T);export{K as I,q as L};
