import{e as v,c as b,b as w,u as y,r as o,a as e,j as i,F as k}from"./index-56b56433.js";import{I as u}from"./InputForm-8fab9dd0.js";import{B as L}from"./ButtonFrom-f44fb8ca.js";import{r as N,u as S}from"./authActions-06d23717.js";import{v as j}from"./validatefield-155992b5.js";const E=()=>{var h,f;const r=v(),p=b(),g=w(),m=y(t=>t.auth.isLogin),[a,c]=o.useState((h=r.state)==null?void 0:h.flag),[s,n]=o.useState({phone:"",name:"",password:""}),[d,l]=o.useState([]);o.useEffect(()=>{var t;c((t=r.state)==null?void 0:t.flag)},[(f=r.state)==null?void 0:f.flag]),o.useEffect(()=>{m&&g("/")},[m]);const x=async()=>{let t=a?s:{phone:s.phone,password:s.password};j(t,l)===0&&p(a?N(s):S(s))};return e("div",{className:"w-full flex items-center justify-center",children:i("div",{className:"bg-white w-[600px] p-[30px] pb-[100px] mt-14 rounded-md shadow-2xl",children:[e("h3",{className:"font-semibold text-2xl mb-3",children:a?"Đăng kí tài khoản":"Đăng Nhập"}),i("div",{className:"w-full flex flex-col gap-5",children:[a&&e(u,{label:"Họ và Tên",keyPayLoad:"name",value:s.name,setValue:n,setInValids:l,invalids:d}),e(u,{label:"Số điện thoại",keyPayLoad:"phone",value:s.phone,setInValids:l,invalids:d,setValue:n}),e(u,{label:"Mật Khẩu",keyPayLoad:"password",value:s.password,type:"password",setInValids:l,invalids:d,setValue:n}),e(L,{text:a?"Đăng kí":"Đăng nhập",textColor:"text-white",bgColor:"bg-blue-700",onClick:x})]}),e("div",{className:"mt-7 flex items-center justify-between",children:a?i("small",{children:["Bạn đã có tài khoản?"," ",e("span",{onClick:()=>{c(!1),n({phone:"",password:"",name:""})},className:"text-blue-500 hover:underline cursor-pointer",children:"Đăng nhập ngay"})]}):i(k,{children:[e("small",{className:"text-[blue] hover:text-[red] cursor-pointer",children:"Bạn quên mật khẩu"}),e("small",{onClick:()=>{c(!0),n({phone:"",password:"",name:""})},className:"text-[blue] hover:text-[red] cursor-pointer",children:"Tạo tài khoản mới"})]})})]})})};export{E as default};
